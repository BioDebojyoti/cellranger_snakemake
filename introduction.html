<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>scRNA-seq snakemake pipeline manual</title>
  <meta name="description" content="scRNA-seq snakemake pipeline manual" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="scRNA-seq snakemake pipeline manual" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="scRNA-seq snakemake pipeline manual" />
  
  
  

<meta name="author" content="Debojyoti Das" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Manual for scRNA-seq snakemake pipeline</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#introduction"><i class="fa fa-check"></i><b>1</b> Introduction:</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">scRNA-seq snakemake pipeline manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">scRNA-seq snakemake pipeline manual</h1>
<p class="author"><em>Debojyoti Das</em></p>
<p class="date"><em>25-11-2024</em></p>
</div>
<div id="introduction" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> Introduction:<a href="#introduction" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<style type="text/css">
img {vertical-align: top;}
</style>
<p><img src="rulegraph_count.png" width="50%" /><img src="rulegraph_multi.png" width="50%" /></p>
<p>The single-cell RNA pipeline can start from either bcl files with initial demultiplexing or already demultiplexed fastq files.</p>
<p>Based on the data format at the start</p>
<p><strong>BCL files</strong></p>
<p>Please prepare a csv file in one of the following formats:</p>
<p><strong>[a]</strong> pipeline <strong>count</strong>: gene expression-only data</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>feature_type,run_bcl_path,iem_samplesheet,samplesheet_4_bcl,fastq_outdirectory,bcl_run_index</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>&quot;Gene Expression&quot;,/path/bcl/folder1,False,/path/to/samplesheet/for/bcl/folder1,/path/to/fastq/output/dir1,run1</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>&quot;Gene Expression&quot;,/path/bcl/folder2,True,/path/to/samplesheet/for/bcl/folder2,/path/to/fastq/output/dir2,run2</span></code></pre></div>
<p><strong>[b]</strong> pipeline <strong>multi</strong>: gene expression and VD(J) data</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>feature_type,run_bcl_path,iem_samplesheet,samplesheet_4_bcl,fastq_outdirectory,bcl_run_index</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>&quot;Gene Expression,/path/bcl/folder1,False,/path/to/samplesheet/for/bcl/folder1,/path/to/fastq/output/dir1,run1</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>&quot;VDJ-B&quot;,/path/bcl/folder2,False,/path/to/samplesheet/for/bcl/folder2,/path/to/fastq/output/vdj_bcell,runbcell</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>&quot;VDJ-T&quot;,/path/bcl/folder3,False,/path/to/samplesheet/for/bcl/folder3,/path/to/fastq/output/vdj_tcell,runtcell</span></code></pre></div>
<p>/path/to/samplesheet/for/bcl/folder1, the bcl samplesheet can either be a simple samplesheet (iem_samplesheet <strong>False</strong>)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>Lane,Sample,Index</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>1,test_sample_atac,SI-NA-A1</span></code></pre></div>
<p>or</p>
<p>an Illumina Experiment Manager file (iem_samplesheet <strong>True</strong>)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>[Header],,,,,,,,</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>IEMFileVersion,4,,,,,,,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>Investigator Name,rjr,,,,,,,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>Experiment Name,hiseq_test,,,,,,,</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>Date,8/15/16,,,,,,,</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>Workflow,GenerateFASTQ,,,,,,,</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>Application,HiSeq FASTQ Only,,,,,,,</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>Assay,TruSeq HT,,,,,,,</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>Description,hiseq sample sheet,,,,,,,</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>Chemistry,Default,,,,,,,</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>,,,,,,,,</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>[Reads],,,,,,,,</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>26,,,,,,,,</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>98,,,,,,,,</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>,,,,,,,,</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>[Settings],,,,,,,,</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>,,,,,,,,</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>[Data],,,,,,,,</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>Lane,Sample_ID,Sample_Name,Sample_Plate,Sample_Well,I7_Index_ID,index,Sample_Project,Description</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>1,s1,test_sample,,,SI-P03-C9,SI-P03-C9,p1,</span></code></pre></div>
<pre>🚨 <span style='color: red;'>Important</span>!

Do not trim adapters during demultiplexing. Leave these settings blank.
Trimming adapters from reads can potentially damage the 10x barcodes and the UMIs, resulting in pipeline failure or data loss.
If you are using an Illumina sample sheet for demultiplexing with bcl2fastq, BCL Convert or our mkfastq pipeline,
please remove these lines under the [Settings] section: Adapter or AdapterRead1 or AdapterRead2.</pre>
<p><strong>FASTQ files</strong></p>
<p>Please prepare csv file with the following format:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>fastq,sample,library_type</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>/path/to/sampl1_fastq_directory/,sample1,Gene Expression</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>/path/to/sampl2_fastq_directory/,sample2,Gene Expression</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>/path/to/sampl3_fastq_directory/,sample3,Gene Expression</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>/path/to/sampl4_fastq_directory/,sample4,Gene Expression</span></code></pre></div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
